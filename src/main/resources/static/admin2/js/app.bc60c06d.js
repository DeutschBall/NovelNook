(function(){"use strict";var e={9659:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var r=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-main",[t("el-form",{attrs:{inline:!0,model:e.searchStaff.username}},[t("el-form-item",{attrs:{label:"username"}},[t("el-input",{attrs:{placeholder:"Please input the username"},model:{value:e.searchStaff.username,callback:function(t){e.$set(e.searchStaff,"username",t)},expression:"searchStaff.username"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectByuserName(e.searchStaff.username)}}},[e._v("Search")]),t("el-button",{attrs:{type:"info"},on:{click:e.clear}},[e._v("Clear")])],1)],1),t("br"),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogAddVisible=!0}}},[e._v("Add New Staff")]),t("el-dialog",{attrs:{title:"Add New Staff",visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[t("el-form",{attrs:{model:e.form}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://localhost:8080/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"firstName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1),t("el-form-item",{attrs:{label:"lastName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1),t("el-form-item",{attrs:{label:"userName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),t("el-form-item",{attrs:{label:"password","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),t("el-form-item",{attrs:{label:"telephone","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),t("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("Quit")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSetAdd(e.scope.$index,e.scope.row)}}},[e._v("Save")])],1)],1),t("br"),[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{label:"Avatar",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-image",{staticStyle:{width:"auto",height:"40px",border:"none",cursor:"pointer"},attrs:{src:e.baseUrl+a.row.avatar}})]}}])}),t("el-table-column",{attrs:{prop:"firstname",label:"FirstName",align:"center"}}),t("el-table-column",{attrs:{prop:"lastname",label:"LastName",align:"center"}}),t("el-table-column",{attrs:{align:"center",label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("Look More")]),t("el-dialog",{attrs:{title:"Detailed Information",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{attrs:{model:e.form}},[t("el-form-item",{attrs:{label:"Avatar","label-width":e.formLabelWidth}},[t("el-image",{staticStyle:{width:"auto",height:"40px",border:"none",cursor:"pointer"},attrs:{src:e.baseUrl+e.form.Avatar}})],1),t("el-form-item",{attrs:{label:"firstName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1),t("el-form-item",{attrs:{label:"lastName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1),t("el-form-item",{attrs:{label:"userName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),t("el-form-item",{attrs:{label:"password","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),t("el-form-item",{attrs:{label:"telephone","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),t("el-form-item",{attrs:{label:"email","label-width":e.formLabelWidth}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("Quit")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSet(a.$index,a.row)}}},[e._v("Save")])],1)],1),t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.bandDeleteName(a.row)}}},[e._v("Delete")]),t("el-dialog",{attrs:{title:"Prompt",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("span",[e._v("Do you confirm to delete this staff?")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Quit")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteByuserName()}}},[e._v("Confirm")])],1)])]}}])})],1)],t("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2)],1)],1)},o=[],l=a(4161),s={inject:["reload"],name:"admin-staff",data(){return{baseUrl:"http://localhost:8080/admin/",imageUrl:"",dialogTableVisible:!1,dialogAddVisible:!1,dialogFormVisible:!1,dialogVisible:!1,formLabelWidth:"120px",pageSize:10,totalCount:100,currentPage:1,tableData:[],deleteName:"",form:{Avatar:"",userName:"",passWord:"",firstName:"",lastName:"",telephone:"",email:""},searchStaff:{username:""},staff:{image:""}}},mounted(){let e=this;l.Z.get("http://localhost:8080/admin/staff").then((function(t){1===t.data.code?e.tableData=t.data.data:alert(t.data.msg)}))},methods:{selectByuserName(e){let t=this;l.Z.get("http://localhost:8080/admin/staff/"+e).then((function(e){1===e.data.code?t.tableData=e.data.data:alert(e.data.msg)}))},deleteByuserName(){this.dialogVisible=!1;let e=this;console.log(e.deleteName),l.Z["delete"]("http://localhost:8080/admin/staff/"+e.deleteName).then((function(t){1===t.data.code?(l.Z.get("http://localhost:8080/admin/staff").then((function(t){1===t.data.code?e.tableData=t.data.data:alert(t.data.msg)})),e.reload()):alert(t.data.msg)}))},clear(){this.searchStaff.username=""},handleEdit(e,t){this.dialogFormVisible=!0,this.form.Avatar=t.avatar,this.form.firstName=t.firstname,this.form.lastName=t.lastname,this.form.userName=t.username,this.form.passWord=t.password,this.form.email=t.email,this.form.telephone=t.telephone},bandDeleteName(e){this.dialogVisible=!0,this.deleteName=e.username},handleSet(e,t){let a=this;var r={avatar:this.form.Avatar,username:this.form.userName,password:this.form.passWord,firstname:this.form.firstName,lastname:this.form.lastName,telephone:this.form.telephone,email:this.form.email};l.Z.put("http://localhost:8080/admin/staff",r).then((function(e){1===e.data.code?(a.dialogFormVisible=!1,l.Z.get("http://localhost:8080/admin/staff").then((function(e){1===e.data.code?a.tableData=e.data.data:alert(e.data.msg)})),a.reload()):alert(e.data.msg)}))},handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},n=s,i=a(1001),m=(0,i.Z)(n,r,o,!1,null,null,null),u=m.exports},4779:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{"element-loading-text":"Logining...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.6)"}},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[e.TxStatus?t("div",{staticClass:"avatar-box"},[t("img",{attrs:{src:"",alt:""}})]):e._e(),t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v("Administrator Back-end System")])]),t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),t("div",[t("el-button",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("Log in")])],1),t("div",{staticClass:"tips"},[t("span",{staticStyle:{"margin-right":"20px"}},[e._v("If you do not have an account,please "),t("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:e.register}},[e._v("Register")])])])],1)],1)},o=[];a(7658);function l(e){return 1}var s=a(4161),n={name:"Login",data(){const e=(e,t,a)=>{l(t)?a():a(new Error("Username cannot be empty!"))},t=(e,t,a)=>{t.length<6?a(new Error("Password cannot be less than six characters!")):a()};return{TxStatus:!0,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((()=>{this.$refs.password.focus()}))},handleLogin(){this.$refs.loginForm.validate((e=>{if(!e)return console.log("error submit!!"),!1;{this.loading=!0;let e=new URLSearchParams;e.append("username",this.loginForm.username),e.append("password",this.loginForm.password),(0,s.Z)({method:"post",url:"http://localhost:8080/admin/login",data:e}).then((e=>{this.loading=!1,1===e.data.code?this.$router.push({name:"admin-staff"}):(this.loading=!1,alert(e.data.msg),this.$router.push({name:"login"}))}))}}))},register(){this.$router.push({name:"register"})}}},i=n,m=a(1001),u=(0,m.Z)(i,r,o,!1,null,"27e9c930",null),d=u.exports},1545:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register()}}},[t("el-form-item",{attrs:{prop:"userName",label:"UserName"}},[t("el-input",{attrs:{placeholder:"Please input your username","prefix-icon":"icon-login_user",clearable:""},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName",t)},expression:"formData.userName"}})],1),t("el-form-item",{attrs:{prop:"password",label:"PassWord"}},[t("el-input",{attrs:{placeholder:"Please input your password",type:"password","prefix-icon":"icon-login_pwd",clearable:""},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),t("el-form-item",{attrs:{prop:"cheackPassword",label:"Confirm Password"}},[t("el-input",{attrs:{placeholder:"Input your password again",type:"password","prefix-icon":"icon-login_pwd",clearable:""},model:{value:e.formData.cheackPassword,callback:function(t){e.$set(e.formData,"cheackPassword",t)},expression:"formData.cheackPassword"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(t){return e.register("formData")}}},[e._v("Register")]),t("el-button",{on:{click:function(t){return e.resetForm("formData")}}},[e._v("Reset")])],1),t("router-link",{attrs:{to:"login"}},[e._v("If you have an account, Please Log In")])],1)],1)},o=[],l=(a(7658),{data(){var e=(e,t,a)=>{""===t?a(new Error("Please input your password again")):t!==this.formData.password?a(new Error("You input different password!")):a()};return{formData:{userName:"",password:"",cheakPassword:""},rules:{userName:[{required:!0,message:"Username can not be empty!",trigger:"blur"}],password:[{required:!0,message:"Password can not be empty!",trigger:"blur"}],cheakPassword:[{required:!0,validator:e,trigger:"blur"}]}}},methods:{register(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.$message({type:"success",message:"Register succseefully"}),this.$router.push({name:"login"})}))},resetForm(e){this.$refs[e].resetFields()}}}),s=l,n=a(1001),i=(0,n.Z)(s,r,o,!1,null,null,null),m=i.exports},7533:function(e,t,a){var r=a(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},l=[],s=a(9659),n=a(4779),i=a(1545),m={components:{AdminStaff:s["default"],Login:n["default"],Register:i["default"]}},u=m,d=a(1001),f=(0,d.Z)(u,o,l,!1,null,null,null),c=f.exports,p=a(2631);r["default"].use(p.ZP);const h=p.ZP.prototype.push;p.ZP.prototype.push=function(e){return h.call(this,e).catch((e=>e))};const b=[{path:"/",name:"home",redirect:"/login"},{path:"/admin/staff",name:"admin-staff",component:()=>Promise.resolve().then(a.bind(a,9659))},{path:"/login",name:"login",component:()=>Promise.resolve().then(a.bind(a,4779))},{path:"/register",name:"register",component:()=>Promise.resolve().then(a.bind(a,1545))}],g=new p.ZP({routes:b});var v=g,w=a(3822);r["default"].use(w.ZP);var y=new w.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),k=a(8499),N=a.n(k),x=a(4193);r["default"].use(N(),{locale:x["default"]}),r["default"].config.productionTip=!1,new r["default"]({router:v,store:y,render:e=>e(c)}).$mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={id:r,loaded:!1,exports:{}};return e[r](l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,r,o,l){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],l=e[u][2];for(var n=!0,i=0;i<r.length;i++)(!1&l||s>=l)&&Object.keys(a.O).every((function(e){return a.O[e](r[i])}))?r.splice(i--,1):(n=!1,l<s&&(s=l));if(n){e.splice(u--,1);var m=o();void 0!==m&&(t=m)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,l,s=r[0],n=r[1],i=r[2],m=0;if(s.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var u=i(a)}for(t&&t(r);m<s.length;m++)l=s[m],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},r=self["webpackChunkstaff_management"]=self["webpackChunkstaff_management"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(7533)}));r=a.O(r)})();
//# sourceMappingURL=app.bc60c06d.js.map