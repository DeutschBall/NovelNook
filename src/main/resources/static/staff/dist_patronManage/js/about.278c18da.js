"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[443],{7326:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"patron-list"},[a("h1",[t._v("Patron Manage")]),a("button",{staticClass:"hbutton",on:{click:function(a){t.addModal=!0}}},[t._v("+ New patron")]),a("table",[t._m(0),a("tbody",t._l(t.displayedPatrons,(function(e){return a("tr",[a("td",[a("img",{attrs:{src:"http://localhost:8080/"+e.avatar,alt:"Patron Avatar"}})]),a("td",[t._v(t._s(e.userid))]),a("td",[t._v(t._s(e.firstname))]),a("td",[t._v(t._s(e.lastname))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.telephone))]),a("td",[a("button",{on:{click:function(a){return t.deletePatron(e.userid)}}},[t._v("delete")]),t._v(" |  | "),a("button",{on:{click:function(a){t.showModal=e}}},[t._v("renew")])])])})),0)]),a("div",{staticClass:"pagination"},[a("button",{staticClass:"ios-button",attrs:{disabled:1===t.currentPage},on:{click:function(a){t.currentPage--}}},[t._v("<<· ")]),a("span",[t._v("Page: "+t._s(t.currentPage)+" | "+t._s(t.totalPages))]),a("button",{staticClass:"ios-button",attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(a){t.currentPage++}}},[t._v(" ·>>")])]),t.showModal?a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content"},[a("h2",{staticStyle:{"font-size":"24px","font-weight":"bold","margin-bottom":"0","margin-top":"0"}},[t._v("Renew Patron:"+t._s(t.showModal.userid))]),a("form",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start"}},[a("div",{staticClass:"window-div"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.showModal.firstname,expression:"showModal.firstname"}],staticClass:"window_input",domProps:{value:t.showModal.firstname},on:{input:function(a){a.target.composing||t.$set(t.showModal,"firstname",a.target.value)}}}),t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.showModal.lastname,expression:"showModal.lastname"}],staticClass:"window_input",domProps:{value:t.showModal.lastname},on:{input:function(a){a.target.composing||t.$set(t.showModal,"lastname",a.target.value)}}}),t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.showModal.email,expression:"showModal.email"}],staticClass:"window_input",domProps:{value:t.showModal.email},on:{input:function(a){a.target.composing||t.$set(t.showModal,"email",a.target.value)}}}),t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.showModal.telephone,expression:"showModal.telephone"}],staticClass:"window_input",domProps:{value:t.showModal.telephone},on:{input:function(a){a.target.composing||t.$set(t.showModal,"telephone",a.target.value)}}}),t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.showModal.password,expression:"showModal.password"}],staticClass:"window_input",domProps:{value:t.showModal.password},on:{input:function(a){a.target.composing||t.$set(t.showModal,"password",a.target.value)}}})]),a("br"),a("div",{staticClass:"window-button"},[a("button",{staticClass:"window-submit",on:{click:function(a){return a.preventDefault(),t.renewPatron(t.showModal.userid,t.showModal.password,t.showModal.firstname,t.showModal.lastname,t.showModal.email,t.showModal.telephone)}}},[t._v("Submit")]),t._v("              "),a("button",{staticClass:"window-submit cancel-button",on:{click:function(a){a.preventDefault(),t.showModal=t.canreload()}}},[t._v("Cancel")])])])])]):t._e(),t.addModal?a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content"},[a("h2",{staticStyle:{"font-size":"24px","font-weight":"bold","margin-bottom":"0","margin-top":"0"}},[t._v("Add A New Patron")]),a("form",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start"}},[a("div",{staticClass:"window-div"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],staticClass:"window_input",domProps:{value:t.firstName},on:{input:function(a){a.target.composing||(t.firstName=a.target.value)}}}),t._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"window_input",domProps:{value:t.lastName},on:{input:function(a){a.target.composing||(t.lastName=a.target.value)}}}),t._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"window_input",domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}}),t._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:t.telephone,expression:"telephone"}],staticClass:"window_input",domProps:{value:t.telephone},on:{input:function(a){a.target.composing||(t.telephone=a.target.value)}}})]),a("br"),a("div",{staticClass:"window-button"},[a("button",{staticClass:"window-submit",on:{click:function(a){return a.preventDefault(),t.addPatron(t.firstName,t.lastName,t.email,t.telephone)}}},[t._v("Submit")]),t._v("              "),a("button",{staticClass:"window-submit cancel-button",on:{click:function(a){t.addModal=!1}}},[t._v("Cancel")])])])])]):t._e()])},o=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("Avatar")]),a("th",[t._v("Patron ID")]),a("th",[t._v("First Name")]),a("th",[t._v("Last Name")]),a("th",[t._v("Email")]),a("th",[t._v("Telephone")]),a("th",[t._v("Operation")])])])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"firstName"}},[t._v("First Name:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"lastName"}},[t._v("Last Name:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"email"}},[t._v("Email:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"telephone"}},[t._v("Telephone:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"password"}},[t._v("Password:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"firstName"}},[t._v("First Name:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"lastName"}},[t._v("Last Name:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"email"}},[t._v("Email:"),a("br")])},function(){var t=this,a=t._self._c;return a("label",{staticClass:"window-label",attrs:{for:"telephone"}},[t._v("Telephone:"),a("br")])}],n=e(4161);const l={baseURL:"http://localhost:8080/staff/patron"};var i=l;const r={showall(){return n.Z.get(`${i.baseURL}/show/all`)},deleteone(t){n.Z["delete"](`${i.baseURL}/delete/${t}`).then((t=>{console.log(t.data)})).catch((t=>{console.log(t)}))},prenew(t,a,e,s,o,l){n.Z.put(`${i.baseURL}/update/${t}/${a}/${e}/${s}/${o}/${l}`).then((t=>{})).catch((t=>{console.log(t)}))},addnew(t,a,e,s){n.Z.post(`${i.baseURL}/add/${t}/${a}/${e}/${s}`).then((t=>{alert("Userid of this new patron: "+t.data.userid+"\nPassword of this new patron: "+t.data.password),location.reload()})).catch((t=>{console.log(t)}))}};var d=r,c={data(){return{patronList:[],currentPage:1,pageSize:10,showModal:!1,password:"",addModal:!1}},mounted(){d.showall().then((t=>{console.log(t.data),this.patronList=t.data}))},computed:{displayedPatrons(){const t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize;return this.patronList.slice(t,a)},totalPages(){return Math.ceil(this.patronList.length/this.pageSize)}},methods:{deletePatron(t){if(confirm(`确认要删除PatronID:${t}的用户信息吗？`)){const a=this.patronList.findIndex((a=>a.userid===t));-1!==a&&this.patronList.splice(a,1),d.deleteone(t)}},canreload(){this.showModal=!1,location.reload()},renewPatron(t,a,e,s,o,n){this.showModal=!1,d.prenew(t,a,e,s,o,n)},addPatron(t,a,e,s){d.addnew(t,a,e,s)}}},u=c,m=e(1001),w=(0,m.Z)(u,s,o,!1,null,null,null),p=w.exports}}]);
//# sourceMappingURL=about.278c18da.js.map